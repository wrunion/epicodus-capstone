{"version":3,"sources":["constants/CONSTANTS.js","components/ResultDisplay.js","components/SearchForm.js","components/App.js","index.js"],"names":["c","DISPLAY","ResultDisplay","props","keywords","length","className","resultsToDisplay","location","results","term1","filter","e","formattedKeywords","map","organizationname","description","phone","url","address1","SearchForm","filterResultsFromProps","filteredResults","undefined","setState","handleInputChange","target","checked","state","id","keyword","handleLocationInputChange","handleFormSubmit","preventDefault","resultsShowing","formSubmitted","formShowing","bind","onSubmit","this","type","name","onChange","required","Component","App","componentDidMount","a","axios","method","response","data","console","log","React","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.162c332b.chunk.js","sourcesContent":["export const c = {\n  /* query data */\n  APP_TOKEN: \"$$app_token=NDQ8EOLrXHft9YeGZ2axBbxzb\",\n  BASE_URL: \"https://data.cityofnewyork.us/resource/pqg4-dm6b.json\",\n\n  /* search phrases */\n  AGING: 'aging',\n  CHILD_CARE: 'child_care_parent_information',\n  SUPPORT_GROUPS: 'counseling_support_groups',\n  HEALTH: 'health',\n  HOUSING: 'housing',\n  HOUSING_ARRAY: ['housing', 'homelessness'],\n  LGBTQ: 'lesbian_gay_bisexual_and_or_transgender',\n  // LEGAL_AID_ARRAY: ['legal_services', 'victim_services', 'anti_discrimination_human_rights'],\n  // IMMIGRATION: 'immigration',\n  MENTAL_HEALTH: 'counseling_support_groups',\n  YOUTH_SERVICES: 'youth_services',\n  // DOMESTIC_VIOLENTCE: ['victim_services', 'domestic_violence'],\n\n  /* other filter terms */\n  GOVERNMENT_ORGANIZATION: ['other_government_organization', 'new_york_city_agency'],\n  NONPROFIT: 'nonprofit',\n\n  /* locations */\n  LOCATION_BRONX: 'bronx',\n  LOCATION_BROOKLYN: 'brooklyn',\n  LOCATION_MANHATTAN: 'manhattan',\n  LOCATION_QUEENS: 'queens',\n  LOCATION_STATEN_ISLAND: 'staten_island',\n  /* contact info */\n  NAME: 'organizationname',\n  NOURL: 'nourl',\n  PHONE: 'phone',\n  POSTCODE: 'postcode',\n  URL: 'url',\n  ADDRESS: 'address1',\n\n}\n\nexport const DISPLAY = {\n  'bronx': \"Bronx\",\n  'brooklyn': \"Brooklyn\",\n  'manhattan': \"Manhattan\",\n  'queens': \"Queens\",\n  'staten_island': \"Staten Island\",\n  'child_care_parent_information': \"Child Care\",\n  'counseling_support_groups': \"Mental Health\",\n  'health': \"Health\",\n  'housing': \"Housing\",\n  'youth_services': \"Youth Services\",\n  'lesbian_gay_bisexual_and_or_transgender': \"LGBTQ\"\n}","import React from 'react'\nimport { DISPLAY } from './../constants/CONSTANTS';\n\nfunction ResultDisplay(props) {\n  /* If someone submits incomplete parameters, or unchecks all boxes after searching */\n  if (props.keywords.length === 0) {\n    return (\n      <div className=\"ResultsNoResults ui message yellow\">\n        Please check at least one keyword box to see your results.\n      </div>\n    )\n  }\n\n  if (props) {\n  const { keywords, location, results } = props;\n\n  let resultsToDisplay;\n  \n  if (keywords.length === 1) {\n    const term1 = keywords[0];\n    resultsToDisplay = results.filter(e => e[term1] === \"Y\" && e[location] === \"Y\");\n  } else if (keywords.length === 2) {\n    resultsToDisplay = results.filter(e => e[location] === \"Y\").filter(e => e[keywords[0]] === \"Y\" && e[keywords[1]] === \"Y\");\n  } else if (keywords.length === 3) {\n    resultsToDisplay = results.filter(e => e[location] === \"Y\").filter(e => e[keywords[0]] === \"Y\" && e[keywords[1]] === \"Y\" && e[keywords[2]] === \"Y\") \n  } else if (keywords.length === 4) {\n    resultsToDisplay = results.filter(e => e[location] === \"Y\").filter(e => e[keywords[0]] === \"Y\" && e[keywords[1]] === \"Y\" && e[keywords[2]] === \"Y\" && e[keywords[3]] === \"Y\");\n  } else if (keywords.length === 5) {\n    resultsToDisplay = results.filter(e => e[location] === \"Y\").filter(e => e[keywords[0]] === \"Y\" && e[keywords[1]] === \"Y\" && e[keywords[2]] === \"Y\" && e[keywords[3]] === \"Y\" && e[keywords[4]] === \"Y\");\n  } else {\n      return (\n    //  <p><em>Please choose only three keywords to see customized results.</em></p>\n    <p><em>Tecnical error; please try again.</em></p>\n      );  \n    }\n\n  const formattedKeywords = keywords.map(e => DISPLAY[e]);\n\n  /* TO DO: figure out how to display the keywords by converting them into display-worthy versions */\n  \n  /* OLD filter - use pattern to REFACTOR lines 18-30 */\n  // const filteredResults = (keyword, location, arr) => {     \n  //   return arr.filter(e =>     \n  //                     e[location] === \"Y\" &&    \n  //                     e[keyword] === \"Y\") }\n\n  if (resultsToDisplay.length > 0) {\n  return (\n    <div className=\"ResultList\">\n      <div className=\"ui message\">\n        <h5>Your search returned {resultsToDisplay.length} {resultsToDisplay.length === 1 ? \"result\" : \"results\"}</h5>\n      </div>\n      {/* <p className=\"grey-text\"><em>To search again, change your selections above</em></p> */}\n       {/* <div className=\"ui message\">To search again, change your selections above</div> */}\n      {resultsToDisplay.map(e => \n        <details><summary>{e.organizationname}</summary>\n        <div className=\"ResultListDetails\">\n          <div className=\"categories\">\n            {formattedKeywords.map(e => \n              <span>âœ“ {e} </span>\n            )}\n          </div>\n          {e.description ? \n            <div className=\"ResultListDescription\">{e.description}</div> \n            : null}\n          {e.phone ? \n            <div className=\"phone\"><span className=\"bold-text\">Phone:</span> {e.phone}</div> : null} \n          {e.url ?  \n            <div className=\"url\"><span className=\"bold-text\">Website:</span> {e.url}</div> \n            : null}\n          {e.address1 ? \n            <div className=\"address\"><span className=\"bold-text\">Address:</span> {e.address1}</div> \n            : null}\n          <hr /></div>\n        </details>)}\n    </div>\n  )\n  } else if (resultsToDisplay.length > 15) {\n    return (\n      <div className=\"ResultList\">\n        Your search returned {resultsToDisplay.length} results. \n        Would you like to answer a few questions about yourself, to help us find the results that are the best match? \n        <button>Yes, help me filter the results</button><button>No, show me all results</button>\n      </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default ResultDisplay;","import React, { Component } from 'react'\nimport ResultDisplay from './ResultDisplay';\nimport { c } from './../constants/CONSTANTS';\n\nclass SearchForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: '',\n      keywords:[],\n      formShowing: true,\n      formSubmitted: false,\n      resultsShowing: false\n    }\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleLocationInputChange = this.handleLocationInputChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  filterResultsFromProps = () => {\n    /* Get results info from props */\n    const { results } = this.props;\n    /* Filter out results that have no description or contact info */\n    const filteredResults = results.filter(e => e.organizationname !== \"The Salvation Army\").filter(e => e.description).filter(e => e.phone !== undefined || e.url !== undefined);\n    /* Add that to state, to pass down to ResultDisplay */\n    this.setState({results: filteredResults});\n  }\n\n  handleInputChange = (e) => {\n    e.target.checked\n    ? this.setState({keywords: [...this.state.keywords, e.target.id]})\n    : this.setState({keywords: this.state.keywords.filter(keyword => keyword !== e.target.id)})\n  }\n\n  handleLocationInputChange = (e) => {\n    if (e.target.checked) {\n      this.setState({location: e.target.id});\n    } \n  }\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n    this.filterResultsFromProps();\n    this.setState({resultsShowing: true, formSubmitted: true});\n  }\n\n  render() {\n    return (\n      <div className=\"Form ui segment raised\">\n      <form onSubmit={this.handleFormSubmit} className=\"ui form\">\n        {/* START Service type container */}\n        <h3>{this.state.formSubmitted ? \"Showing results for: \" : \"I am looking for: \"}</h3>\n        <div className=\"inline fields\">\n        <div className=\"field\">\n          <div className=\"ui checkbox\">\n          <input type=\"checkbox\"\n            name=\"term\"\n            id=\"housing\"\n            onChange={this.handleInputChange} />\n          <label>Housing</label>\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"ui checkbox\">\n          <input type=\"checkbox\"\n            name=\"term\"\n            id={c.CHILD_CARE}\n            onChange={this.handleInputChange}\n             />\n            <label>Child Care</label>\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"ui checkbox\">\n          <input type=\"checkbox\"\n            name=\"term\"\n            id={c.YOUTH_SERVICES}\n            // displayName=\"Youth Programs\"\n            onChange={this.handleInputChange} />\n            <label>Youth Programs</label>\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"ui checkbox\">\n          <input type=\"checkbox\"\n            name=\"term\"\n            id=\"health\"             \n            onChange={this.handleInputChange} />\n            <label>Health Care</label>\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"ui checkbox\">\n          <input type=\"checkbox\"\n            name=\"term\"\n            id={c.MENTAL_HEALTH}             \n            onChange={this.handleInputChange} />\n            <label>Mental Health Care</label>\n          </div>\n        </div>\n        </div> {/* END Service Type container */}\n\n        {/* START Location container  */}\n        <h4>Located In: </h4>\n        <div className=\"inline fields\">\n          {/* <label>Located in:</label> */}\n        <div className=\"field\">\n          <div className=\"ui radio checkbox grid-item\">\n          <input type=\"radio\"\n            name=\"location\"\n            required\n            id=\"brooklyn\"\n            onChange={this.handleLocationInputChange} />\n          <label>Brooklyn</label>\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"ui radio checkbox\">\n          <input type=\"radio\"\n            name=\"location\"\n            id=\"manhattan\"            \n            onChange={this.handleLocationInputChange} />\n            <label>Manhattan</label>\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"ui radio checkbox\">\n          <input type=\"radio\"\n            name=\"location\"\n            id=\"bronx\"           \n            onChange={this.handleLocationInputChange} />\n            <label>Bronx</label>\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"ui radio checkbox\">\n          <input type=\"radio\"\n            name=\"location\"\n            id=\"staten_island\"            \n            onChange={this.handleLocationInputChange} />\n            <label>Staten Island</label>\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"ui radio checkbox\">\n          <input type=\"radio\"\n            name=\"location\"\n            id=\"queens\"             \n            onChange={this.handleLocationInputChange} />\n            <label>Queens</label>\n          </div>\n        </div>\n      </div>\n      {this.state.formSubmitted ?       \n          // <button type=\"submit\" className=\"ui button green mini\">Search Again</button>\n          <div className=\"ui green message\">To search again, change your selections above</div>\n        : <button type=\"submit\" className=\"ui button green mini\">Search</button>}\n        </form>\n      {this.state.formSubmitted ?       \n        <ResultDisplay \n          keywords={this.state.keywords}\n          results={this.state.results}\n          location={this.state.location} />\n          : null}\n      </div>\n    );\n  }\n}\n\nexport default SearchForm;","import React from 'react';\nimport axios from 'axios';\nimport SearchForm from './SearchForm';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        results: []\n      };\n    }\n  \n  componentDidMount = async () => {\n    const response = await axios({\n      method: 'get',\n      url: 'https://data.cityofnewyork.us/resource/pqg4-dm6b.json',\n      // options: {\n      //   transformRequest: [\n      //     (data, headers) => {\n      //       data = data.filter(e =>\n      //         e.organizationname !== \"The Salvation Army\").filter(e => \n      //           e.description !== undefined).filter(e => e.phone !== undefined ||\n      //         e.url !== undefined);\n      //       return data;\n      //     }\n      //   ]\n      // }\n    })\n\n    this.setState({results: response.data});\n    console.log(this.state.results);\n  }\n\n  render() {\n    const results = this.state.results;\n\n    return (\n      <div className=\"App ui container\">\n        <h1>Welcome to the NYC Women's Services Database</h1>\n        <SearchForm results={results} />\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);"],"sourceRoot":""}