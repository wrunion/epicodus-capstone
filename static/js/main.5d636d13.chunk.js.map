{"version":3,"sources":["constants/CONSTANTS.js","components/DropdownSearch.js","components/FilterResults.js","components/DropdownResults.js","components/App.js","index.js"],"names":["DISPLAY","KEYWORDS","LOCATIONS","searchCategories","key","text","value","searchLocations","DropdownSearch","props","renderLabel","label","color","content","icon","handleCategoryChange","e","length","setState","categories","handleErrorMessage","handleLocationsChange","locations","state","errorMessage","handleSubmit","preventDefault","onSubmitCallback","Segment","className","onSubmit","this","Header","as","subheader","Dropdown","placeholder","fluid","multiple","search","selection","required","minwidth","onChange","options","type","React","Component","DropdownResults","resultsToDisplay","results","displayCategories","map","term1","term2","term3","matchThreeResults","arr","regex1","RegExp","regex2","regex3","filter","test","organizationname","description","matchThree","sort","a","b","localeCompare","matchTwoResults","matchTwo","matchOneResults","matchOne","open","location","min","ideal","max","readMoreText","phone","replace","url","address1","href","App","componentDidMount","axios","method","response","data","i","j","push","keywords","filteredResults","undefined","console","log","handleDropdownSubmit","handleKeywordSubmit","searchTerm","Fragment","id","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5d636d13.chunk.js","sourcesContent":["export const c = {\n  /* query data */\n  APP_TOKEN: \"$$app_token=NDQ8EOLrXHft9YeGZ2axBbxzb\",\n  BASE_URL: \"https://data.cityofnewyork.us/resource/pqg4-dm6b.json\",\n\n  /* search phrases */\n  AGING: 'aging',\n  CHILD_CARE: 'child_care_parent_information',\n  SUPPORT_GROUPS: 'counseling_support_groups',\n  HEALTH: 'health',\n  HOUSING: 'housing',\n  HOUSING_ARRAY: ['housing', 'homelessness'],\n  LGBTQ: 'lesbian_gay_bisexual_and_or_transgender',\n  LEGAL_AID: 'legal_services',\n  EDUCATION: 'education',\n  EMPLOYMENT: 'employment_job_training',\n  // LEGAL_AID_ARRAY: ['legal_services', 'victim_services', 'anti_discrimination_human_rights'],\n  IMMIGRATION: 'immigration',\n  MENTAL_HEALTH: 'counseling_support_groups',\n  YOUTH_SERVICES: 'youth_services',\n  DISABILITIES: 'disabilities',\n  VETERAN_SERVICES: 'veterans_military_families',\n  // DOMESTIC_VIOLENTCE: ['victim_services', 'domestic_violence'],\n  DOMESTIC_VIOLENCE: 'domestic_violence',\n  /* other filter terms */\n  GOVERNMENT_ORGANIZATION: ['other_government_organization', 'new_york_city_agency'],\n  NONPROFIT: 'nonprofit',\n\n  /* locations */\n  LOCATION_BRONX: 'bronx',\n  LOCATION_BROOKLYN: 'brooklyn',\n  LOCATION_MANHATTAN: 'manhattan',\n  LOCATION_QUEENS: 'queens',\n  LOCATION_STATEN_ISLAND: 'staten_island',\n  /* contact info */\n  NAME: 'organizationname',\n  NOURL: 'nourl',\n  PHONE: 'phone',\n  POSTCODE: 'postcode',\n  URL: 'url',\n  ADDRESS: 'address1',\n\n}\n\nexport const DISPLAY = {\n  'bronx': \"Bronx\",\n  'brooklyn': \"Brooklyn\",\n  'manhattan': \"Manhattan\",\n  'queens': \"Queens\",\n  'staten_island': \"Staten Island\",\n  'child_care_parent_information': \"Child Care\",\n  'counseling_support_groups': \"Mental Health Care\",\n  'health': \"Health Care\",\n  'housing': \"Housing\",\n  'homelessness': \"Homelessness\",\n  'faith_based_organization': \"Faith Baised Organizations\",\n  'youth_services': \"Youth Services\",\n  'lesbian_gay_bisexual_and_or_transgender': \"LGBTQ Services\",\n  'legal_services': \"Legal Services\",\n  'immigration': \"Immigration Services\",\n  'domestic_violence': \"DV Support\",\n  'aging': \"Aging Resources\", \n  'disabilities': \"Disability Resources\",\n  'arts_culture': \"Arts and Culture\",\n  'education': \"Education\", \n  'employment_job_training': \"Employment and Job Training\",\n  'veterans_military_families': \"Veteran Services\",\n  'community_service_volunteerism': \"Volunteer Opportunities\",\n  \"personal_finance_financial_education\": \"Financial Education\"\n}\n\n/*------------------------------*/\n\n/* For tagging the data right after it's collected and before it's stored in state */\nexport const KEYWORDS = ['aging', 'arts_culture', \"child_care_parent_information\", 'disabilities', 'education', 'employment_job_training', \"faith_based_organization\", \"health\", \"housing\", \"homelessness\", 'lesbian_gay_bisexual_and_or_transgender', 'legal_services', 'immigration', \"counseling_support_groups\", 'veterans_military_families', 'community_service_volunteerism', \"youth_services\"];\n\nexport const LOCATIONS = [\"queens\", \"brooklyn\", \"staten_island\", \"bronx\", \"manhattan\"];\n\n/*------------------------------*/\n\nexport const searchCategories = [\n  {key: 1, text: \"Child Care\", value: 'child_care_parent_information'},\n  {key: 13, text: \"Counseling\", value: 'counseling_support_groups'},\n  // {key: 18, text: \"Disability Services\", value: \"disabilities\"},\n  {key: 14, text: \"Education\", value: \"education\"},\n  {key: 6, text: \"Employment and Job Training\", value: 'employment_job_training'},\n  {key: 9, text: \"Financial Education\", value: 'personal_finance_financial_education'},\n  {key: 3, text: \"Health Care\", value: 'health'},\n  {key: 4, text: \"Housing\", value: 'housing'},\n  // {key: 16, text: \"Homeless Assistance\", value: \"homelessness\"},\n  {key: 15, text: \"Legal Services\", value: \"legal_services\"},\n  {key: 11, text: \"LGBTQ Resources\", value: 'lesbian_gay_bisexual_and_or_transgender'},\n  {key: 17, text: \"Immigration\", value: \"immigration\"},\n  // {key: 2, text: \"Mental Health Care\", value: 'counseling_support_groups'},\n  {key:20, text: \"Support Groups\", value: 'counseling_support_groups'},\n  {key: 12, text: \"Veteran Services\", value: \"veterans_military_families\"},\n  {key: 10, text: \"Victim Services\", value: 'victim_services'},\n  {key: 5, text: \"Youth Services\", value: 'youth_services'},\n]\n\nexport const additionalSearchCategories = [\n  //latino, spanish, asian american, jewish, homelessness, disability, aging, arts, faith-based organizations\n]\n\nexport const customSearches = [\n  {text: \"Trans Health Care\", value: ['trans_health'] }\n]\n\nexport const lgbtqSearch = {\n  \"trans_health\": ['health', 'lesbian_gay_bisexual_and_or_transgender'],\n  \"trans_mental_health\": ['lesbian_gay_bisexual_and_or_transgender', 'counseling_support_groups'],\n  \"homeless_youth\": [\"homelessness\", \"youth_services\"],\n\n}\n\n\nexport const searchLocations = [\n  {key:1, text: \"Bronx\", value: 'bronx'},\n  {key: 2, text: \"Brooklyn\", value: 'brooklyn'},\n  {key: 3, text: \"Manhattan\", value: 'manhattan'},\n  {key: 4, text: \"Queens\", value: 'queens'},\n  {key: 5, text: \"Staten Island\", value:'staten_island'},\n  // {key: 5, text: \"All locations\", value: \"all\"}\n]","import React from 'react';\nimport { Dropdown, Header, Segment } from 'semantic-ui-react';\nimport { searchCategories, searchLocations } from '../constants/CONSTANTS';\nimport './App.css';\n\nclass DropdownSearch extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    locations: [],\n    categories: [],\n    errorMessage: false    \n    }\n  }\n\n  renderLabel = (label) => ({\n      color: 'blue',\n      content: label.text,\n      icon: 'check',\n    })\n  \n  handleCategoryChange = (e, value) => {\n    if (value.value.length <= 3) {\n      this.setState({categories: value.value}, this.handleErrorMessage);\n    }\n  }\n\n  handleLocationsChange = (e, value) => {\n    if (value.value.length <= 1) {\n    this.setState({locations: value.value}, this.handleErrorMessage);\n    }\n  }\n\n  handleErrorMessage = () => {\n    const { locations, categories } = this.state;\n    if ((locations.length >= 1) && (categories.length >= 1)) {\n      this.setState({errorMessage: false});\n    } \n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { categories, locations } = this.state;\n    if ((categories.length > 0 && locations.length > 0)) {\n      this.props.onSubmitCallback(this.state.categories, this.state.locations);\n      this.setState({ errorMessage: false });\n    } else {\n      this.setState({errorMessage: true})\n    }\n  }\n\n  render() {\n  return (\n    <Segment className=\"DropdownSearch\">\n      <form onSubmit={this.handleSubmit}>\n          <div className=\"ui two column centered row\">\n            <div className=\"column dropdownInputSingle\">\n              <Header \n                as=\"h3\"\n                content=\"I am looking for: \" \n                subheader=\"(Select 1-3 categories)\"/>\n              <Dropdown\n                placeholder='Search...'\n                fluid\n                multiple\n                search\n                selection\n                required\n                minwidth={250}\n                value={this.state.categories}\n                renderLabel={this.renderLabel}\n                onChange={this.handleCategoryChange}\n                options={searchCategories}\n              />\n            </div>\n            <br />\n            <div className=\"column dropdownInputSingle\">\n              <Header as=\"h3\"\n                content=\"Located in: \"\n                subheader=\"(Select one)\" />     \n              <Dropdown\n                placeholder='Location'\n                fluid\n                multiple\n                search\n                selection\n                required\n                minwidth={250}\n                value={this.state.locations}\n                renderLabel={this.renderLabel}\n                onChange={this.handleLocationsChange}\n                options={searchLocations}\n              /> \n            </div>\n          </div>\n          <br />\n          <div className=\"ui row\">\n            {this.state.errorMessage ? \n            <div className=\"ui message green center-text bold-text\">\n              Please select a location and a category\n            </div>\n            : null}\n            <button type=\"submit\" className=\"button ui fluid basic blue\">Search</button>\n          </div>\n        </form> \n    </Segment>\n    )\n  }\n}\n\nexport default DropdownSearch;","import React, { Component } from 'react';\n// import keywordPairs from './../constants/PAIRS';\n// import './Sidebar.css';\n\nclass FilterResults extends Component {\n  constructor(props) {\n    super(props); \n    this.state ={\n\n    }\n  }\n\n  // HOW TO do this with a keyword array ???? \n  matchResults = (arr, keyword) => {\n    const regex = new RegExp(keyword, \"gi\");\n    return arr.filter(e => regex.test(e.organizationname) || regex.test(e.description) || e[keyword] === \"Y\");\n  }\n\n  /* Function to filter duplicates out of an array */\n  noDuplicates = (arr) => {\n    let output = [arr[0]];\n    for (let i =0; i< arr.length; i++) {\n        for (let j=0; j<output.length;i++) {\n            if (output[j]['organizationname'] !== arr[i]['organizationname']) {\n                output.push(arr[i]); break; } } }\n    return output;\n  }\n\n  render() {\n    const results = this.props.results;\n    if (results.length > 0) {\n    return (\n      <div className=\"FilterResults\">\n        {results[0][\"organizationname\"]}\n      </div>\n    );\n    } else {\n      return null;\n    }\n  }\n}\n\n\n\nexport default FilterResults;","import React from 'react';\nimport ReadMoreReact from 'read-more-react';\nimport { Segment } from 'semantic-ui-react';\nimport { DISPLAY } from '../constants/CONSTANTS';\nimport FilterResults from './FilterResults';\n\nfunction DropdownResults(props) {\n  /* results from API call, search parameters, passed from App */\n  const { categories, locations, results } = props;\n\n  const displayCategories = categories.map(e => DISPLAY[e]);\n\n  // if there's data...\n  let resultsToDisplay;\n  if ((categories.length > 0) && (locations.length > 0) && results.length > 0) {\n\n    if (categories.length === 3) {\n      const term1 = categories[0];\n      const term2 = categories[1];\n      const term3 = categories[2];\n\n      function matchThree(arr) {\n        const regex1 = new RegExp(term1, \"gi\");\n        const regex2 = new RegExp(term2, \"gi\");\n        const regex3 = new RegExp(term3, \"gi\");\n        return arr.filter(e => regex1.test(e.organizationname) || regex1.test(e.description) || e[term1] === \"Y\").filter(e => regex2.test(e.organizationname) || regex2.test(e.description) || e[term2] === \"Y\").filter(e => regex3.test(e.organizationname) || regex3.test(e.description) || e[term3] === \"Y\");\n      }\n      /* Get results, sort in alphabetical order */\n      const matchThreeResults = matchThree(results).filter(e => e[locations[0]] === \"Y\").sort((a, b) => a.organizationname.localeCompare(b.organizationname));\n      \n      resultsToDisplay = matchThreeResults;\n    }\n    if (categories.length === 2) {\n      const term1 = categories[0];\n      const term2 = categories[1];\n\n      function matchTwo(arr) {\n        const regex1 = new RegExp(term1, \"gi\");\n        const regex2 = new RegExp(term2, \"gi\");\n        return arr.filter(e => regex1.test(e.organizationname) || regex1.test(e.description) || e[term1] === \"Y\").filter(e => regex2.test(e.organizationname) || regex2.test(e.description) || e[term2] === \"Y\");\n      }\n \n      const matchTwoResults = matchTwo(results).filter(e => e[locations[0]] === \"Y\").sort((a, b) => a.organizationname.localeCompare(b.organizationname));\n      resultsToDisplay = matchTwoResults;\n    }\n    if (categories.length === 1) {\n      const term1 = categories[0];\n\n      function matchOne(arr) {\n        const regex1 = new RegExp(term1, \"gi\");\n        return arr.filter(e => regex1.test(e.organizationname) || regex1.test(e.description) || e[term1] === \"Y\");\n      }\n \n      const matchOneResults = matchOne(results).filter(e => e[locations[0]] === \"Y\").sort((a, b) => a.organizationname.localeCompare(b.organizationname));\n      resultsToDisplay = matchOneResults;\n    }\n\n\n    ///counseling, education, employment, bronx --> 12 w/location filter on\n\n /* ------------------------ */\n            /* SAVE */\n  /* ------------------------ */\n\n  /* function to search name, description of each obj for term */\n  // function filterRegexResults(regex, results) {\n  //   return results.filter(e => regex.test(e.organizationname) || regex.test(e.description) || e[term] === \"Y\");\n  // }\n\n  /* alphabetize output array */\n  // const resultsToDisplay = filterRegexResults(regexTerm, results).sort((a, b) => a.organizationname.localeCompare(b.organizationname));\n  // console.log(resultsToDisplay);\n /* ------------------------ */\n            /* SAVE */\n  /* ------------------------ */\n\n\n  ///TODO BELOW (from kent): how to filter out duplicates in an array ///\n  // let myArr = [{name: \"a\"}, {name: \"a\"}, {name: \"b\"}];\n  // let output = [myArr[0]];\n\n  // for (let i = 0; i < myArr.length; i++) {\n  //   for (let j = 0; j <div output.length; j++) {\n  //     if (output[j]['name'] !== myArr[i]['name']) { \n  //       output.push(myArr[i]); break; }\n  //   }\n  // }\n  // console.log(output);\n\n \n  /* ------------------------ */\n            /* UI */\n  /* ------------------------ */\n  if (resultsToDisplay.length === 0) {\n    return (\n      <Segment>\n        Your search returned no results.<br />\n        Please try again.\n      </Segment>\n    )\n  } \n  return (\n    <div className=\"ResultList\">\n      <Segment>\n        <div>\n          <div className=\"ui message\">\n            <h3 className=\"bold-text\">{resultsToDisplay.length} results for {displayCategories.map(e => { \n              if (e === displayCategories[displayCategories.length-1]) {\n                return ` ${e} `;\n              } else { \n                return `${e}, `}})} in {DISPLAY[locations[0]]}:</h3> \n                \n          </div>\n        {resultsToDisplay.map(e => \n          <details key={e.organizationname} open=\"open\">\n            <summary><span className=\"Summary\">{e.organizationname}</span></summary>\n          <div className=\"ResultListDetails\">\n          {/* Locations  */}\n          {e.locations && e.locations.length > 0 ? \n            <div className=\"locations\">\n              <span className=\"bold-text\">Locations:  </span>\n              {e.locations.map(e => \n                <span key={e.location}><i className=\"fa fa-map-marker\"></i> {DISPLAY[e]} </span>\n              )}\n            </div>: null} \n            {/* Descriptions  */}\n            <div className=\"ResultListDescription\">\n              <ReadMoreReact text={e.description} \n                min={50}\n                ideal={100}\n                max={125}\n                readMoreText=\"(Read more)\"\n              />\n            </div>  \n            {/* Contact Info  */}\n            {e.phone && e.phone.length === 10 ? \n              <div className=\"phone\"><span className=\"bold-text\">Phone:</span> {e.phone.replace(/\\D+/g, '').replace(/(\\d{3})(\\d{3})(\\d{4})/, '($1) $2-$3')}</div> : null} \n            {e.url ?  \n              <div className=\"url\"><span className=\"bold-text\">Website:</span> {e.url}</div> \n              : null}\n            {e.address1 ? \n              <div className=\"address\"><span className=\"bold-text\">Address:</span> {e.address1}</div> \n              : null}\n            {/* Hrule on everything but the last result  */}\n            {e === resultsToDisplay[resultsToDisplay.length-1] \n            ? null\n            : <hr />}\n            </div>\n          </details>)}\n        </div>\n        <br />\n        <div className=\"ui container\">\n          <a href=\"#start\"><button className=\"ui button fluid basic\">Back To Top</button></a>\n        </div>\n      </Segment>\n    {/* <FilterResults results={resultsToDisplay} /> */}\n  </div>\n  )\n  } else {\n    return null;\n  }\n}\n\nexport default DropdownResults;\n\n//unicode for map icon: &#xf041;\n//unicode for center dot: ✓","import React from 'react';\nimport axios from 'axios';\nimport { KEYWORDS, LOCATIONS } from './../constants/CONSTANTS';\nimport DropdownSearch from './DropdownSearch';\nimport DropdownResults from './DropdownResults';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        results: [],\n        searchCategories: [],\n        searchLocations: []    \n      };\n    }\n  \n  componentDidMount = async () => {\n    const response = await axios({\n      method: 'get',\n      url: 'https://data.cityofnewyork.us/resource/pqg4-dm6b.json'\n    })\n\n    const results = response.data;\n\n    /* Add locations array to results */\n    const locations = LOCATIONS;\n\n    for (let i=0; i < results.length; i++) {\n      for (let j=0; j < locations.length; j++) {\n        if (results[i][locations[j]] === \"Y\") {\n          if (!results[i][\"locations\"]) {results[i][\"locations\"]=[];}\n          results[i][\"locations\"].push(locations[j]);\n        }\n      }\n    }\n    /* Add keyword array to results */\n    const keywords = KEYWORDS;\n\n    for (let i=0; i < results.length; i++) {\n      for (let j=0; j < keywords.length; j++) {\n        if (results[i][keywords[j]] === \"Y\") {\n          if (!results[i][\"keywords\"]) {results[i][\"keywords\"]=[];}\n          results[i][\"keywords\"].push(keywords[j]);\n        }\n      }\n    }\n\n    /* Filter results with no descriptions and contact info */\n    const filteredResults = results.filter(e => e.description).filter(e => e.phone !== undefined || e.url !== undefined).filter(e => e.organizationname !== \"The Salvation Army\").map(e => e.organizationname === \"ACCESS NYC\" ? {...e, url: \"https://access.nyc.gov/\"} : e ).map(e => e.organizationname === \"The ARab American Family Support Center\" ? {...e, organizationname: \"The Arab American Family Support Center\"} : e);\n    \n    this.setState({results: filteredResults});\n    console.log(this.state.results);\n  }\n\n  /* Dropdown search submit */\n  handleDropdownSubmit = (categories, locations) => {\n    console.log(categories, locations);\n    this.setState({searchCategories: categories,\n      searchLocations: locations})\n  }\n\n  /* Single search term */\n  handleKeywordSubmit = (searchTerm) => {\n    console.log(searchTerm);\n    this.setState({searchTerm: searchTerm});\n  }\n\n  render() {\n    return (\n    <React.Fragment>\n      <div className=\"App ui container\">\n        <div className=\"SiteTitle\">\n          <h1 className=\"ui header\" id=\"start\">NYC Social Service Search<span className=\"light-grey-text\">*</span>\n            <div className=\"sub header\">Find housing, education, health care, and more!</div>\n          </h1>\n        </div>\n        <DropdownSearch onSubmitCallback={this.handleDropdownSubmit}/>\n        <DropdownResults \n          results={this.state.results}\n          categories={this.state.searchCategories}\n          locations={this.state.searchLocations} />\n      </div>\n    </React.Fragment>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);"],"sourceRoot":""}