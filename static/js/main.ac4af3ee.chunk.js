(this.webpackJsonpcapstone=this.webpackJsonpcapstone||[]).push([[0],{161:function(e,t,a){e.exports=a(306)},305:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),s=a.n(l),o=a(87),i=a.n(o),c=a(134),u=a(24),m=a(25),h=a(26),d=a(66),f=a(135),p=a.n(f),g=a(313),b={bronx:"Bronx",brooklyn:"Brooklyn",manhattan:"Manhattan",queens:"Queens",staten_island:"Staten Island",child_care_parent_information:"Child Care",counseling_support_groups:"Mental Health Care",health:"Health Care",housing:"Housing",youth_services:"Youth Services",lesbian_gay_bisexual_and_or_transgender:"LGBTQ Services",legal_services:"Legal Services",immigration:"Immigration Services",domestic_violence:"Domestic Violence Survivor Support",aging:"Aging Resources",disabilities:"Disability Resources",arts_culture:"Arts and Culture",education:"Education",employment_job_training:"Employment and Job Training",veterans_military_families:"Veteran Services",food:"Food Finder"},v=[{key:1,text:"Child Care",value:"child_care_parent_information"},{key:3,text:"Health Care",value:"health"},{key:4,text:"Housing",value:"housing"},{key:2,text:"Mental Health Care",value:"counseling_support_groups"},{key:5,text:"Youth Services",value:"youth_services"}],E=[{key:1,text:"Bronx",value:"bronx"},{key:2,text:"Brooklyn",value:"brooklyn"},{key:3,text:"Manhattan",value:"manhattan"},{key:4,text:"Queens",value:"queens"},{key:5,text:"Staten Island",value:"staten_island"}],y=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderLabel=function(e){return{color:"blue",content:e.text,icon:"check"}},n.handleCategoryChange=function(e,t){n.setState({categories:t.value})},n.handleLocationChange=function(e,t){n.setState({location:t.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.onSubmitCallback(n.state.categories,n.state.location)},n.state={location:"",categories:[]},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Dropdown ui container raised segment"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"I am looking for: "),this.state.categories.length>=4?r.a.createElement("div",{className:"ui message yellow"},"Please choose ",r.a.createElement("strong",null,"3 or less")," options for best search results."):null,r.a.createElement(g.a,{placeholder:"Category",fluid:!0,multiple:!0,search:!0,selection:!0,renderLabel:this.renderLabel,onChange:this.handleCategoryChange,options:v}),r.a.createElement("br",null),r.a.createElement("h3",null,"Located in: "),r.a.createElement(g.a,{placeholder:"Location",fluid:!0,search:!0,selection:!0,renderLabel:this.renderLabel,onChange:this.handleLocationChange,options:E})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"button ui fluid basic blue"},"Search")))}}]),a}(r.a.Component);function k(){return r.a.createElement("div",{className:"Footer ui container"},r.a.createElement("em",null,"Disclaimer: This is a student project for demo purposes only. ",r.a.createElement("br",null),"For up-to-date information, please call the New York resource hotline line at * 211."))}a(305);var Y=function(e){if(e){var t,a=e.keywords,n=e.location,l=e.results;if(1===a.length){var s=a[0];t=l.filter((function(e){return"Y"===e[s]&&"Y"===e[n]}))}else if(2===a.length)t=l.filter((function(e){return"Y"===e[n]})).filter((function(e){return"Y"===e[a[0]]&&"Y"===e[a[1]]}));else if(3===a.length)t=l.filter((function(e){return"Y"===e[n]})).filter((function(e){return"Y"===e[a[0]]&&"Y"===e[a[1]]&&"Y"===e[a[2]]}));else if(4===a.length)t=l.filter((function(e){return"Y"===e[n]})).filter((function(e){return"Y"===e[a[0]]&&"Y"===e[a[1]]&&"Y"===e[a[2]]&&"Y"===e[a[3]]}));else{if(5!==a.length)return r.a.createElement("p",null,r.a.createElement("em",null,"Techical error; please enter three keywords or less and try again."));t=l.filter((function(e){return"Y"===e[n]})).filter((function(e){return"Y"===e[a[0]]&&"Y"===e[a[1]]&&"Y"===e[a[2]]&&"Y"===e[a[3]]&&"Y"===e[a[4]]}))}var o=a.map((function(e){return b[e]}));return t.length>0?r.a.createElement("div",{className:"ResultList"},r.a.createElement("div",{className:"ui message"},r.a.createElement("h5",null,"Your search returned ",t.length," ",1===t.length?"result":"results")),t.map((function(e){return r.a.createElement("details",null,r.a.createElement("summary",null,e.organizationname),r.a.createElement("div",{className:"ResultListDetails"},r.a.createElement("div",{className:"categories"},o.map((function(e){return r.a.createElement("span",null,"\u2713 ",e," ")}))),e.description?r.a.createElement("div",{className:"ResultListDescription"},e.description):null,e.phone?r.a.createElement("div",{className:"phone"},r.a.createElement("span",{className:"bold-text"},"Phone:")," ",e.phone):null,e.url?r.a.createElement("div",{className:"url"},r.a.createElement("span",{className:"bold-text"},"Website:")," ",e.url):null,e.address1?r.a.createElement("div",{className:"address"},r.a.createElement("span",{className:"bold-text"},"Address:")," ",e.address1):null,r.a.createElement("hr",null)))}))):t.length>15?r.a.createElement("div",{className:"ResultList"},"Your search returned ",t.length," results. Would you like to answer a few questions about yourself, to help us find the results that are the best match?",r.a.createElement("button",null,"Yes, help me filter the results"),r.a.createElement("button",null,"No, show me all results")):null}},C=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"get",url:"https://data.cityofnewyork.us/resource/pqg4-dm6b.json"});case 2:t=e.sent,n.setState({results:t.data}),console.log(n.state.results);case 5:case"end":return e.stop()}}),e)}))),n.handleFormSubmit=function(e,t){console.log(e,t),n.setState({searchCategories:e,searchLocation:t,resultsShowing:!0})},n.state={results:[],resultsShowing:!1,searchCategories:[],searchLocation:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.searchCategories,t=this.state.location;return r.a.createElement("div",{className:"App ui container"},r.a.createElement("h1",null,"Welcome to NYC Social Service Finder*"),r.a.createElement(y,{onSubmitCallback:this.handleFormSubmit}),r.a.createElement(Y,{keywords:e,location:t,results:this.state.results}),r.a.createElement(k,null))}}]),a}(r.a.Component);s.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.ac4af3ee.chunk.js.map