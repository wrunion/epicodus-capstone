{"version":3,"sources":["components/KeywordSearch.js","components/RegexResults.js","components/Footer.js","components/App.js","index.js"],"names":["KeywordSearch","props","className","Form","onSubmit","e","preventDefault","callbackSubmissionHandler","target","term","value","Input","id","required","icon","placeholder","Button","type","RegexResults","results","filter","description","undefined","phone","url","length","resultsToDisplay","regex","test","organizationname","filterRegexResults","RegExp","sort","a","b","localeCompare","console","log","Segment","map","split","address1","Footer","App","componentDidMount","axios","method","response","setState","data","state","handleFormSubmit","categories","location","searchCategories","searchLocation","resultsShowing","handleKeywordSubmit","searchTerm","this","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d2464403.chunk.js","sourcesContent":["import React from 'react'\nimport { Input, Button, Form } from 'semantic-ui-react';\nimport \"./App.css\";\n\nfunction KeywordSearch(props) {\n  // const { results, searchTerm } = props;\n\n  // const resultsWithDescriptions = results.filter(e => e.description);\n\n  // const lowercaseResults = results.map(e => {\n  //   return {...e, organizationname: e.organizationname.toLowerCase(), description: e.description.toLowerCase()}\n  // });\n\n\n  // const searchResults = (term, arr) => arr.filter(e => e.description.includes([term]) || e.organzationname.includes([term]));\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.callbackSubmissionHandler(e.target.term.value)\n  }\n\n  return (\n      <div className=\"KeywordSearch ui segment\">\n        <Form onSubmit={handleSubmit}>\n          <h3>Keyword Search:</h3>\n          <Input \n            id=\"term\"\n            required\n            icon='search' \n            placeholder='Search...' /> <br /><br />\n          <Button type=\"submit\" className=\"green basic\">Submit</Button>\n        </Form>\n      </div>\n  );\n}\n\nexport default KeywordSearch;\n\n/* \nMore specialized search options: \n\nconst healthCareResults = filteredResults.filter(e => e.description.includes(\"health\"));\n\nconst mentalHealthCareResults = filteredResults.filter(e => e.description.includes(\"mental health\"));\n\n*/","import React from 'react';\nimport { Segment } from 'semantic-ui-react';\n// import { DISPLAY } from '../constants/CONSTANTS';\n\nfunction RegexResults(props) {\n  /* Term from the search form, passed in via App */\n  const term = props.term;\n  /* Results = an array of all social services in NYC, fetched and passed in via App. Filter for description, phone, and url properties */\n  const results = props.results.filter(e => e.description).filter(e => e.phone !== undefined || e.url !== undefined);\n\n  /* If there's data to work with */\n  if (term && results.length > 0) {\n\n  const regexTerm = new RegExp(`${term}+`, \"gi\");\n\n  /* Search the names and descriptions of each organization to see if it includes the search term */\n  function filterRegexResults(regex, results) {\n    return results.filter(e => regex.test(e.organizationname) || regex.test(e.description));\n  }\n\n  const resultsToDisplay = filterRegexResults(regexTerm, results).sort((a, b) => a.organizationname.localeCompare(b.organizationname));\n\n  console.log(resultsToDisplay);\n\n  if (resultsToDisplay.length === 0) {\n    return (\n      <Segment>\n        There are 0 results for {term}.<br />\n        Please check your spelling and try again.\n      </Segment>\n    )\n  } \n  return (\n  <Segment>\n   <div className=\"ResultList\">\n      <div>\n        <h3>Showing {resultsToDisplay.length} results for \"{term}\":</h3> \n      {resultsToDisplay.map(e => \n        <details><summary><span className=\"Summary\">{e.organizationname}</span></summary>\n        <div className=\"ResultListDetails\">\n          {/* <div className=\"categories\">\n            {formattedKeywords.map(e => \n              <span>âœ“ {e} </span>\n            )}\n          </div> */}\n          <div className=\"ResultListDescription\">\n            {e.description.split(\" \").length < 115 ? \n            `${e.description}`\n            : <details><summary><em>Click for full description</em></summary>\n              {e.description}\n            </details>\n          }</div> \n            \n          {e.phone ? \n            <div className=\"phone\"><span className=\"bold-text\">Phone:</span> {e.phone}</div> : null} \n          {e.url ?  \n            <div className=\"url\"><span className=\"bold-text\">Website:</span> {e.url}</div> \n            : null}\n          {e.address1 ? \n            <div className=\"address\"><span className=\"bold-text\">Address:</span> {e.address1}</div> \n            : null}\n          <hr /></div>\n        </details>)}\n    </div>\n  {/* )\n      <h3>Showing {resultsToDisplay.length} results for \"{term}\":</h3>\n      <div id=\"results\">\n        <em><span className=\"grey-text\">(Results will go here)</span></em>\n      </div> */}\n      </div>\n    </Segment>\n  )\n  } else {\n    return null;\n  }\n}\n\nexport default RegexResults;","import React from 'react'\n\nexport default function Footer() {\n  return (\n    <div className=\"Footer ui container\">\n      <em>Disclaimer: This is a student project for demo purposes only. <br />\n      For up-to-date information, please call the New York resource hotline line at * 211.</em>\n    </div>\n  )\n}\n","import React from 'react';\nimport axios from 'axios';\nimport { Segment } from 'semantic-ui-react';\n/* SAVE THIS */\n// import DropdownSearch from './DropdownSearch';\nimport KeywordSearch from './KeywordSearch';\nimport RegexResults from './RegexResults';\nimport Footer from './Footer';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        results: [],\n        resultsShowing: false,\n        searchCategories: [],\n        searchLocation: '',\n        searchTerm: ''\n      };\n    }\n  \n  componentDidMount = async () => {\n    const response = await axios({\n      method: 'get',\n      url: 'https://data.cityofnewyork.us/resource/pqg4-dm6b.json',\n      // options: {\n      //   transformRequest: [\n      //     (data, headers) => {\n      //       data = data.filter(e =>\n      //         e.organizationname !== \"The Salvation Army\").filter(e => \n      //           e.description !== undefined).filter(e => e.phone !== undefined ||\n      //         e.url !== undefined);\n      //       return data;\n      //     }\n      //   ]\n      // }\n    })\n\n    this.setState({results: response.data});\n    console.log(this.state.results);\n  }\n\n  handleFormSubmit = (categories, location) => {\n    console.log(categories, location);\n    this.setState({searchCategories: categories,\n      searchLocation: location, resultsShowing: true})\n  }\n\n  handleKeywordSubmit = (searchTerm) => {\n    console.log(searchTerm);\n    this.setState({searchTerm: searchTerm});\n  }\n\n  render() {\n    // const results = this.state.results;\n    // const keywords = this.state.searchCategories;\n    // const location = this.state.location;\n\n    return (\n      <div className=\"App ui container\">\n        <h1>Welcome to NYC Social Service Finder*</h1>\n        <Segment>\n          {/* SAVE THIS */}\n          {/* <DropdownSearch onSubmitCallback={this.handleFormSubmit}/> */}\n          <KeywordSearch \n            callbackSubmissionHandler={this.handleKeywordSubmit} />\n          <RegexResults \n            term={this.state.searchTerm}\n            results={this.state.results} />\n        </Segment>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);"],"sourceRoot":""}