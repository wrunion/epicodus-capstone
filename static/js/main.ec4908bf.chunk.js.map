{"version":3,"sources":["constants/CONSTANTS.js","components/KeywordSearch.js","components/RegexResults.js","components/Footer.js","components/App.js","index.js"],"names":["DISPLAY","KEYWORDS","LOCATIONS","KeywordSearch","props","className","Form","onSubmit","e","preventDefault","callbackSubmissionHandler","target","term","value","Input","id","required","icon","placeholder","Button","type","RegexResults","results","length","resultsToDisplay","regex","filter","test","organizationname","description","filterRegexResults","RegExp","sort","a","b","localeCompare","console","log","Segment","map","key","locations","text","min","ideal","max","readMoreText","phone","url","address1","Footer","App","componentDidMount","axios","method","response","data","i","j","push","keywords","filteredResults","undefined","setState","state","handleFormSubmit","categories","location","searchCategories","searchLocation","resultsShowing","handleKeywordSubmit","searchTerm","searchCategoryArray","searchLocationArray","this","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ec4908bf.chunk.js","sourcesContent":["export const c = {\n  /* query data */\n  APP_TOKEN: \"$$app_token=NDQ8EOLrXHft9YeGZ2axBbxzb\",\n  BASE_URL: \"https://data.cityofnewyork.us/resource/pqg4-dm6b.json\",\n\n  /* search phrases */\n  AGING: 'aging',\n  CHILD_CARE: 'child_care_parent_information',\n  SUPPORT_GROUPS: 'counseling_support_groups',\n  HEALTH: 'health',\n  HOUSING: 'housing',\n  HOUSING_ARRAY: ['housing', 'homelessness'],\n  LGBTQ: 'lesbian_gay_bisexual_and_or_transgender',\n  LEGAL_AID: 'legal_services',\n  EDUCATION: 'education',\n  EMPLOYMENT: 'employment_job_training',\n  // LEGAL_AID_ARRAY: ['legal_services', 'victim_services', 'anti_discrimination_human_rights'],\n  IMMIGRATION: 'immigration',\n  MENTAL_HEALTH: 'counseling_support_groups',\n  YOUTH_SERVICES: 'youth_services',\n  DISABILITIES: 'disabilities',\n  VETERAN_SERVICES: 'veterans_military_families',\n  // DOMESTIC_VIOLENTCE: ['victim_services', 'domestic_violence'],\n  DOMESTIC_VIOLENCE: 'domestic_violence',\n  /* other filter terms */\n  GOVERNMENT_ORGANIZATION: ['other_government_organization', 'new_york_city_agency'],\n  NONPROFIT: 'nonprofit',\n\n  /* locations */\n  LOCATION_BRONX: 'bronx',\n  LOCATION_BROOKLYN: 'brooklyn',\n  LOCATION_MANHATTAN: 'manhattan',\n  LOCATION_QUEENS: 'queens',\n  LOCATION_STATEN_ISLAND: 'staten_island',\n  /* contact info */\n  NAME: 'organizationname',\n  NOURL: 'nourl',\n  PHONE: 'phone',\n  POSTCODE: 'postcode',\n  URL: 'url',\n  ADDRESS: 'address1',\n\n}\n\nexport const DISPLAY = {\n  'bronx': \"Bronx\",\n  'brooklyn': \"Brooklyn\",\n  'manhattan': \"Manhattan\",\n  'queens': \"Queens\",\n  'staten_island': \"Staten Island\",\n  'child_care_parent_information': \"Child Care\",\n  'counseling_support_groups': \"Mental Health Care\",\n  'health': \"Health Care\",\n  'housing': \"Housing\",\n  'homelessness': \"Homelessness\",\n  'faith_based_organization': \"Faith Baised Organizations\",\n  'youth_services': \"Youth Services\",\n  'lesbian_gay_bisexual_and_or_transgender': \"LGBTQ Services\",\n  'legal_services': \"Legal Services\",\n  'immigration': \"Immigration Services\",\n  'domestic_violence': \"DV Support\",\n  'aging': \"Aging Resources\", \n  'disabilities': \"Disability Resources\",\n  'arts_culture': \"Arts and Culture\",\n  'education': \"Education\", \n  'employment_job_training': \"Employment and Job Training\",\n  'veterans_military_families': \"Veteran Services\",\n  'community_service_volunteerism': \"Volunteer Opportunities\"\n}\n\n/*------------------------------*/\n\n/* For tagging the data right after it's collected and before it's stored in state */\nexport const KEYWORDS = ['aging', 'arts_culture', \"child_care_parent_information\", 'disabilities', 'education', 'employment_job_training', \"faith_based_organization\", \"health\", \"housing\", \"homelessness\", 'lesbian_gay_bisexual_and_or_transgender', 'legal_services', 'immigration', \"counseling_support_groups\", 'veterans_military_families', 'community_service_volunteerism', \"youth_services\"];\n\nexport const LOCATIONS = [\"queens\", \"brooklyn\", \"staten_island\", \"bronx\", \"manhattan\"];\n\n/*------------------------------*/\n\nexport const searchCategories = [\n  {key: 1, text: \"Child Care\", value: 'child_care_parent_information'},\n  {key: 3, text: \"Health Care\", value: 'health'},\n  {key: 4, text: \"Housing\", value: 'housing'},\n  {key: 2, text: \"Mental Health Care\", value: 'counseling_support_groups'},\n  {key: 5, text: \"Youth Services\", value: 'youth_services'},\n  {key: 6, text: \"Employment\", value: 'employment_job_training'},\n  {key: 7, text: \"Job Training\", value: 'employment_job_training'},\n  {key: 8, text: \"Personal Finance\", value: \"personal_finance_financial_education\"},\n  {key: 9, text: \"Financial Education\", value: 'personal_finance_financial_education'},\n  {key: 10, text: \"Victim Services\", value: 'victim_services'},\n  {key: 11, text: \"LGBTQ\", value: 'lesbian_gay_bisexual_and_or_transgender'},\n  {key: 12, text: \"Veteran Services\", value: \"veterans_military_families\"},\n  {key: 13, text: \"Counseling\", value: 'counseling_support_groups'},\n  {key:14, text: \"Support Groups\", value: 'counseling_support_groups'}\n]\n\nexport const searchLocations = [\n  {key:1, text: \"Bronx\", value: 'bronx'},\n  {key: 2, text: \"Brooklyn\", value: 'brooklyn'},\n  {key: 3, text: \"Manhattan\", value: 'manhattan'},\n  {key: 4, text: \"Queens\", value: 'queens'},\n  {key: 5, text: \"Staten Island\", value:'staten_island'}\n]","import React from 'react'\nimport { Input, Button, Form } from 'semantic-ui-react';\nimport \"./App.css\";\n\nfunction KeywordSearch(props) {\n  // const { results, searchTerm } = props;\n\n  // const resultsWithDescriptions = results.filter(e => e.description);\n\n  // const lowercaseResults = results.map(e => {\n  //   return {...e, organizationname: e.organizationname.toLowerCase(), description: e.description.toLowerCase()}\n  // });\n\n\n  // const searchResults = (term, arr) => arr.filter(e => e.description.includes([term]) || e.organzationname.includes([term]));\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.callbackSubmissionHandler(e.target.term.value)\n  }\n\n  return (\n      <div className=\"KeywordSearch ui segment\">\n        <Form onSubmit={handleSubmit}>\n          <h3>Keyword Search:</h3>\n          <Input \n            id=\"term\"\n            required\n            icon='search' \n            placeholder='Search...' /> <br /><br />\n          <Button type=\"submit\" className=\"green basic\">Submit</Button>\n        </Form>\n      </div>\n  );\n}\n\nexport default KeywordSearch;\n\n/* \nMore specialized search options: \n\nconst healthCareResults = filteredResults.filter(e => e.description.includes(\"health\"));\n\nconst mentalHealthCareResults = filteredResults.filter(e => e.description.includes(\"mental health\"));\n\n*/","import React from 'react';\nimport ReadMoreReact from 'read-more-react';\nimport { Segment } from 'semantic-ui-react';\nimport { DISPLAY } from '../constants/CONSTANTS';\n\nfunction RegexResults(props) {\n  // data array and search term passed from App\n  const { term, results } = props;\n\n  // if there's data...\n  if (term && results.length > 0) {\n  // turn the search term into a regular expression\n  const regexTerm = new RegExp(term, \"gi\");\n  \n  /* function to search name, description of each obj for term */\n  function filterRegexResults(regex, results) {\n    return results.filter(e => regex.test(e.organizationname) || regex.test(e.description) || e[term] === \"Y\");\n  }\n  /* alphabetize output array */\n  const resultsToDisplay = filterRegexResults(regexTerm, results).sort((a, b) => a.organizationname.localeCompare(b.organizationname));\n  console.log(resultsToDisplay);\n\n  ///TODO BELOW (from kent): how to filter out duplicates in an array ///\n  // let myArr = [{name: \"a\"}, {name: \"a\"}, {name: \"b\"}];\n  // let output = [myArr[0]];\n\n  // for (let i = 0; i < myArr.length; i++) {\n  //   for (let j = 0; j < output.length; j++) {\n  //     if (output[j]['name'] !== myArr[i]['name']) { \n  //       output.push(myArr[i]); break; }\n  //   }\n  // }\n  // console.log(output);\n\n  /* ------------------------ */\n            /* UI */\n  /* ------------------------ */\n  if (resultsToDisplay.length === 0) {\n    return (\n      <Segment>\n        There are 0 results for {term}.<br />\n        Please check your spelling and try again.\n      </Segment>\n    )\n  } \n  return (\n  <Segment>\n   <div className=\"ResultList\">\n      <div>\n        <h3>Showing {resultsToDisplay.length} results for \"{term}\":</h3> \n      {resultsToDisplay.map(e => \n        <details key={e.organizationname}><summary><span className=\"Summary\">{e.organizationname}</span></summary>\n        <div className=\"ResultListDetails\">\n        {e.locations && e.locations.length > 0 ? \n          <div className=\"locations\">\n            <span className=\"bold-text\">Locations:  </span>\n            {e.locations.map(e => \n              <span><i className=\"fa fa-map-marker\"></i> {DISPLAY[e]} </span>\n            )}\n          </div>: null} \n          <div className=\"ResultListDescription\">\n            <ReadMoreReact text={e.description} \n              min={250}\n              ideal={300}\n              max={500}\n              readMoreText=\"(Read more)\"\n            />\n          </div>  \n          {/* Contact Info  */}\n          {e.phone ? \n            <div className=\"phone\"><span className=\"bold-text\">Phone:</span> {e.phone}</div> : null} \n          {e.url ?  \n            <div className=\"url\"><span className=\"bold-text\">Website:</span> {e.url}</div> \n            : null}\n          {e.address1 ? \n            <div className=\"address\"><span className=\"bold-text\">Address:</span> {e.address1}</div> \n            : null}\n          {/* Categories */}\n          {/* {e.keywords && e.keywords.length > 0 ? \n          <div className=\"categories\">\n            <span className=\"bold-text black-text\">Categories: </span>\n            {e.keywords.map(e => \n              <span>&#183; {DISPLAY[e]} </span>\n            )}\n          </div>: null}   */}\n          <hr /></div>\n        </details>)}\n    </div>\n  {/* )\n      <h3>Showing {resultsToDisplay.length} results for \"{term}\":</h3>\n      <div id=\"results\">\n        <em><span className=\"grey-text\">(Results will go here)</span></em>\n      </div> */}\n      </div>\n    </Segment>\n  )\n  } else {\n    return null;\n  }\n}\n\nexport default RegexResults;\n\n//unicode for map icon: &#xf041;\n//unicode for center dot: ✓","import React from 'react'\n\nexport default function Footer() {\n  return (\n    <div className=\"Footer ui container\">\n      <em>Disclaimer: This is a student project for demo purposes only. <br />\n      For up-to-date information, please call the New York resource hotline line at * 211.</em>\n    </div>\n  )\n}\n","import React from 'react';\nimport axios from 'axios';\nimport { Segment } from 'semantic-ui-react';\nimport { KEYWORDS, LOCATIONS } from './../constants/CONSTANTS';\n/* SAVE THIS */\n// import DropdownSearch from './DropdownSearch';\nimport KeywordSearch from './KeywordSearch';\nimport RegexResults from './RegexResults';\nimport Footer from './Footer';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        results: [],\n        resultsShowing: false,\n        searchCategoryArray: [],\n        searchLocationArray: [],\n        searchLocation: '',\n        searchTerm: ''\n      };\n    }\n  \n  componentDidMount = async () => {\n    const response = await axios({\n      method: 'get',\n      url: 'https://data.cityofnewyork.us/resource/pqg4-dm6b.json'\n    })\n\n    const results = response.data;\n\n    /* Add locations array to results */\n    const locations = LOCATIONS;\n\n    for (let i=0; i < results.length; i++) {\n      for (let j=0; j < locations.length; j++) {\n        if (results[i][locations[j]] === \"Y\") {\n          if (!results[i][\"locations\"]) {results[i][\"locations\"]=[];}\n          results[i][\"locations\"].push(locations[j]);\n        }\n      }\n    }\n\n    /* Add keyword array to results */\n    const keywords = KEYWORDS;\n\n    for (let i=0; i < results.length; i++) {\n      for (let j=0; j < keywords.length; j++) {\n        if (results[i][keywords[j]] === \"Y\") {\n          if (!results[i][\"keywords\"]) {results[i][\"keywords\"]=[];}\n          results[i][\"keywords\"].push(keywords[j]);\n        }\n      }\n    }\n\n    /* Filter results with no descriptions and contact info */\n    const filteredResults = results.filter(e => e.description).filter(e => e.phone !== undefined || e.url !== undefined).filter(e => e.organizationname !== \"The Salvation Army\");\n    \n    this.setState({results: filteredResults});\n    console.log(this.state.results);\n  }\n\n  handleFormSubmit = (categories, location) => {\n    console.log(categories, location);\n    this.setState({searchCategories: categories,\n      searchLocation: location, resultsShowing: true})\n  }\n\n  handleKeywordSubmit = (searchTerm) => {\n    console.log(searchTerm);\n    this.setState({searchTerm: searchTerm});\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"App ui container\">\n        <h1>Welcome to NYC Social Service Finder*</h1>\n        {/* <Segment> */}\n          {/* SAVE THIS */}\n          {/* <DropdownSearch onSubmitCallback={this.handleFormSubmit}/> */}\n          <KeywordSearch \n            callbackSubmissionHandler={this.handleKeywordSubmit} />\n          <RegexResults \n            term={this.state.searchTerm}\n            results={this.state.results} /> \n        {/* </Segment> */}\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);"],"sourceRoot":""}