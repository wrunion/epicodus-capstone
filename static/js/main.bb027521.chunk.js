(this.webpackJsonpcapstone=this.webpackJsonpcapstone||[]).push([[0],{117:function(e,a,t){},187:function(e,a,t){e.exports=t(333)},333:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(36),l=t.n(s),o=t(99),i=t.n(o),c=t(155),u=t(46),m=t(47),d=t(51),h=t(175),p=t(156),g=t.n(p),f={bronx:"Bronx",brooklyn:"Brooklyn",manhattan:"Manhattan",queens:"Queens",staten_island:"Staten Island",child_care_parent_information:"Child Care",counseling_support_groups:"Mental Health Care",health:"Health Care",housing:"Housing",homelessness:"Homelessness",faith_based_organization:"Faith Baised Organizations",youth_services:"Youth Services",lesbian_gay_bisexual_and_or_transgender:"LGBTQ Services",legal_services:"Legal Services",immigration:"Immigration Services",domestic_violence:"DV Support",aging:"Aging Resources",disabilities:"Disability Resources",arts_culture:"Arts and Culture",education:"Education",employment_job_training:"Employment and Job Training",veterans_military_families:"Veteran Services",community_service_volunteerism:"Volunteer Opportunities"},_=["aging","arts_culture","child_care_parent_information","disabilities","education","employment_job_training","faith_based_organization","health","housing","homelessness","lesbian_gay_bisexual_and_or_transgender","legal_services","immigration","counseling_support_groups","veterans_military_families","community_service_volunteerism","youth_services"],b=["queens","brooklyn","staten_island","bronx","manhattan"],v=t(344),E=t(343),y=t(334);t(117);var S=function(e){return r.a.createElement("div",{className:"KeywordSearch ui segment"},r.a.createElement(v.a,{onSubmit:function(a){a.preventDefault(),e.callbackSubmissionHandler(a.target.term.value)}},r.a.createElement("h3",null,"I am looking for:"),r.a.createElement(E.a,{id:"term",required:!0,icon:"search",placeholder:"Search..."})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,{type:"submit",className:"green basic"},"Submit")))},k=t(173),N=t.n(k),w=t(346);var x=function(e){var a=e.term,t=e.results;if(a&&t.length>0){var n=function(e,t){return t.filter((function(t){return e.test(t.organizationname)||e.test(t.description)||"Y"===t[a]}))}(new RegExp(a,"gi"),t).sort((function(e,a){return e.organizationname.localeCompare(a.organizationname)}));return console.log(n),0===n.length?r.a.createElement(w.a,null,"There are 0 results for ",a,".",r.a.createElement("br",null),"Please check your spelling and try again."):r.a.createElement(w.a,null,r.a.createElement("div",{className:"ResultList"},r.a.createElement("div",null,r.a.createElement("h3",null,"Showing 1-10 of ",n.length,' results for "',a,'":'),n.map((function(e){return r.a.createElement("details",{key:e.organizationname,open:"open"},r.a.createElement("summary",null,r.a.createElement("span",{className:"Summary"},e.organizationname)),r.a.createElement("div",{className:"ResultListDetails"},e.locations&&e.locations.length>0?r.a.createElement("div",{className:"locations"},r.a.createElement("span",{className:"bold-text"},"Locations:  "),e.locations.map((function(e){return r.a.createElement("span",{key:e.location},r.a.createElement("i",{className:"fa fa-map-marker"})," ",f[e]," ")}))):null,r.a.createElement("div",{className:"ResultListDescription"},r.a.createElement(N.a,{text:e.description,min:50,ideal:100,max:125,readMoreText:"(Read more)"})),e.phone&&10===e.phone.length?r.a.createElement("div",{className:"phone"},r.a.createElement("span",{className:"bold-text"},"Phone:")," ",e.phone.replace(/\D+/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3")):null,e.url?r.a.createElement("div",{className:"url"},r.a.createElement("span",{className:"bold-text"},"Website:")," ",e.url):null,e.address1?r.a.createElement("div",{className:"address"},r.a.createElement("span",{className:"bold-text"},"Address:")," ",e.address1):null,r.a.createElement("hr",null)))})))))}return null};function C(){return r.a.createElement("div",{className:"Footer ui container"},r.a.createElement("em",null,"Disclaimer: This is a student project for demo purposes only. ",r.a.createElement("br",null),"For up-to-date information, please call the New York resource hotline line at * 211."))}var j=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).componentDidMount=Object(c.a)(i.a.mark((function e(){var a,t,r,s,l,o,c,u,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g()({method:"get",url:"https://data.cityofnewyork.us/resource/pqg4-dm6b.json"});case 2:for(a=e.sent,t=a.data,r=b,s=0;s<t.length;s++)for(l=0;l<r.length;l++)"Y"===t[s][r[l]]&&(t[s].locations||(t[s].locations=[]),t[s].locations.push(r[l]));for(o=_,c=0;c<t.length;c++)for(u=0;u<o.length;u++)"Y"===t[c][o[u]]&&(t[c].keywords||(t[c].keywords=[]),t[c].keywords.push(o[u]));m=t.filter((function(e){return e.description})).filter((function(e){return void 0!==e.phone||void 0!==e.url})).filter((function(e){return"The Salvation Army"!==e.organizationname})),n.setState({results:m}),console.log(n.state.results);case 11:case"end":return e.stop()}}),e)}))),n.handleFormSubmit=function(e,a){console.log(e,a),n.setState({searchCategories:e,searchLocation:a,resultsShowing:!0})},n.handleKeywordSubmit=function(e){console.log(e),n.setState({searchTerm:e})},n.state={results:[],resultsShowing:!1,searchCategoryArray:[],searchLocationArray:[],searchLocation:"",searchTerm:""},n}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App ui container"},r.a.createElement("h1",null,"Welcome to NYC Social Service Finder*"),r.a.createElement(S,{callbackSubmissionHandler:this.handleKeywordSubmit}),r.a.createElement(x,{term:this.state.searchTerm,results:this.state.results}),r.a.createElement(C,null))}}]),t}(r.a.Component);l.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.bb027521.chunk.js.map