(this.webpackJsonpcapstone=this.webpackJsonpcapstone||[]).push([[0],{118:function(e,t,a){},186:function(e,t,a){e.exports=a(330)},330:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(36),s=a.n(l),i=a(99),o=a.n(i),c=a(156),u=a(46),m=a(47),d=a(51),h=a(175),p=a(157),g=a.n(p),f=a(343),v={bronx:"Bronx",brooklyn:"Brooklyn",manhattan:"Manhattan",queens:"Queens",staten_island:"Staten Island",child_care_parent_information:"Child Care",counseling_support_groups:"Mental Health Care",health:"Health Care",housing:"Housing",homelessness:"Homelessness",faith_based_organization:"Faith Baised Organizations",youth_services:"Youth Services",lesbian_gay_bisexual_and_or_transgender:"LGBTQ Services",legal_services:"Legal Services",immigration:"Immigration Services",domestic_violence:"DV Support",aging:"Aging Resources",disabilities:"Disability Resources",arts_culture:"Arts and Culture",education:"Education",employment_job_training:"Employment and Job Training",veterans_military_families:"Veteran Services",community_service_volunteerism:"Volunteer Opportunities"},E=["health","housing","homelessness","child_care_parent_information","counseling_support_groups","youth_services","faith_based_organization","lesbian_gay_bisexual_and_or_transgender","legal_services","immigration","aging","disabilities","arts_culture","education","employment_job_training","community_service_volunteerism","veterans_military_families"],b=["queens","brooklyn","staten_island","bronx","manhattan"],_=a(341),y=a(340),S=a(331);a(118);var k=function(e){return r.a.createElement("div",{className:"KeywordSearch ui segment"},r.a.createElement(_.a,{onSubmit:function(t){t.preventDefault(),e.callbackSubmissionHandler(t.target.term.value)}},r.a.createElement("h3",null,"Keyword Search:"),r.a.createElement(y.a,{id:"term",required:!0,icon:"search",placeholder:"Search..."})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(S.a,{type:"submit",className:"green basic"},"Submit")))};var w=function(e){var t=e.term,a=e.results;if(t&&a.length>0){var n=function(e,t){return t.filter((function(t){return e.test(t.organizationname)||e.test(t.description)}))}(new RegExp(t,"gi"),a).sort((function(e,t){return e.organizationname.localeCompare(t.organizationname)}));console.log(n);for(var l=[{name:"a"},{name:"a"},{name:"b"}],s=[l[0]],i=0;i<l.length;i++)for(var o=0;o<s.length;o++)if(s[o].name!==l[i].name){s.push(l[i]);break}return console.log(s),0===n.length?r.a.createElement(f.a,null,"There are 0 results for ",t,".",r.a.createElement("br",null),"Please check your spelling and try again."):r.a.createElement(f.a,null,r.a.createElement("div",{className:"ResultList"},r.a.createElement("div",null,r.a.createElement("h3",null,"Showing ",n.length,' results for "',t,'":'),n.map((function(e){return r.a.createElement("details",null,r.a.createElement("summary",null,r.a.createElement("span",{className:"Summary"},e.organizationname)),r.a.createElement("div",{className:"ResultListDetails"},e.keywords&&e.keywords.length>0?r.a.createElement("div",{className:"categories"},e.keywords.map((function(e){return r.a.createElement("span",null,"\u2713 ",v[e]," ")}))):null,r.a.createElement("div",{className:"ResultListDescription"},e.description.split(" ").length<115?"".concat(e.description):r.a.createElement("details",null,r.a.createElement("summary",null,r.a.createElement("em",null,"Click for full description")),e.description)),e.phone?r.a.createElement("div",{className:"phone"},r.a.createElement("span",{className:"bold-text"},"Phone:")," ",e.phone):null,e.url?r.a.createElement("div",{className:"url"},r.a.createElement("span",{className:"bold-text"},"Website:")," ",e.url):null,e.address1?r.a.createElement("div",{className:"address"},r.a.createElement("span",{className:"bold-text"},"Address:")," ",e.address1):null,e.locations&&e.locations.length>0?r.a.createElement("div",{className:"locations"},r.a.createElement("span",{className:"bold-text"},"Locations: "),e.locations.map((function(e){return r.a.createElement("span",null,"\u2713 ",v[e]," ")}))):null,r.a.createElement("hr",null)))})))))}return null};function N(){return r.a.createElement("div",{className:"Footer ui container"},r.a.createElement("em",null,"Disclaimer: This is a student project for demo purposes only. ",r.a.createElement("br",null),"For up-to-date information, please call the New York resource hotline line at * 211."))}var x=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(c.a)(o.a.mark((function e(){var t,a,r,l,s,i,c,u,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g()({method:"get",url:"https://data.cityofnewyork.us/resource/pqg4-dm6b.json"});case 2:for(t=e.sent,a=t.data,r=b,l=0;l<a.length;l++)for(s=0;s<r.length;s++)"Y"===a[l][r[s]]&&(a[l].locations||(a[l].locations=[]),a[l].locations.push(r[s]));for(i=E,c=0;c<a.length;c++)for(u=0;u<i.length;u++)"Y"===a[c][i[u]]&&(a[c].keywords||(a[c].keywords=[]),a[c].keywords.push(i[u]));m=a.filter((function(e){return e.description})).filter((function(e){return void 0!==e.phone||void 0!==e.url})).filter((function(e){return"The Salvation Army"!==e.organizationname})),n.setState({results:m}),console.log(n.state.results);case 11:case"end":return e.stop()}}),e)}))),n.handleFormSubmit=function(e,t){console.log(e,t),n.setState({searchCategories:e,searchLocation:t,resultsShowing:!0})},n.handleKeywordSubmit=function(e){console.log(e),n.setState({searchTerm:e})},n.state={results:[],resultsShowing:!1,searchCategories:[],searchLocation:"",searchTerm:""},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App ui container"},r.a.createElement("h1",null,"Welcome to NYC Social Service Finder*"),r.a.createElement(f.a,null,r.a.createElement(k,{callbackSubmissionHandler:this.handleKeywordSubmit}),r.a.createElement(w,{term:this.state.searchTerm,results:this.state.results})),r.a.createElement(N,null))}}]),a}(r.a.Component);s.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.502442b0.chunk.js.map